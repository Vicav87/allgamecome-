<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev From Zero - Definitive S50</title>
    <style>
        :root {
            --neon: #00ffaa;
            --neon-glow: rgba(0, 255, 170, 0.4);
            --bg: #0a0a0f;
            --glass: rgba(25, 25, 40, 0.9);
            --text: #ffffff;
            --card-bg: rgba(255, 255, 255, 0.03);
            --danger: #ff4d6d;
        }

        body {
            margin: 0; font-family: 'Inter', system-ui, sans-serif;
            background: var(--bg); color: var(--text);
            overflow-x: hidden; padding: 20px 10px;
        }

        #bgCanvas { position: fixed; top: 0; left: 0; z-index: -1; }

        /* SEÇÃO 1: HEADER (SEPARADA) */
        header {
            max-width: 480px; margin: 0 auto 15px auto; padding: 20px;
            border-radius: 24px; background: var(--glass);
            backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.08);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .logo { 
            font-size: 1.6rem; font-weight: 900; text-align: center;
            background: linear-gradient(to right, #00ffaa, #00d4ff);
            -webkit-background-clip: text; background-clip: text;
            -webkit-text-fill-color: transparent; margin-bottom: 15px;
        }
        
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .stat-card { 
            background: var(--card-bg); padding: 10px 5px; border-radius: 15px; 
            text-align: center; border: 1px solid rgba(255,255,255,0.05);
        }
        .stat-card b { font-size: 1rem; color: var(--neon); }
        .stat-card small { display: block; font-size: 0.6rem; color: #888; text-transform: uppercase; }

        .xp-wrapper { margin-top: 15px; }
        .xp-container { background: rgba(0,0,0,0.5); height: 5px; border-radius: 10px; overflow: hidden; }
        .xp-fill { background: linear-gradient(90deg, #00ffaa, #0088ff); height: 100%; width: 0%; transition: width 0.6s ease; }

        /* SEÇÃO 2: NAVEGAÇÃO (SEPARADA) */
        nav.tabs { 
            max-width: 480px; margin: 0 auto 15px auto; 
            display: flex; gap: 8px; 
        }
        .tab-btn {
            flex: 1; padding: 14px; border: none; border-radius: 18px;
            background: var(--glass); color: #666; 
            cursor: pointer; font-weight: bold; transition: 0.3s;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .tab-btn.active { 
            background: var(--neon); color: #000; 
            box-shadow: 0 4px 15px var(--neon-glow); border-color: var(--neon);
        }

        /* SEÇÃO 3: CONTEÚDO PRINCIPAL (SEPARADA) */
        main.content-area {
            max-width: 480px; margin: 0 auto; padding: 25px;
            border-radius: 28px; background: var(--glass);
            backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.08);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .tab-content { display: none; animation: slideUp 0.3s ease; }
        .tab-content.active { display: block; }

        /* BOTÕES E CARDS INTERNOS */
        .ctrl-btn { 
            flex: 1; border: none; padding: 12px; border-radius: 12px;
            background: linear-gradient(145deg, #1e1e2e, #14141f);
            color: #fff; cursor: pointer; font-weight: bold;
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.2s; box-shadow: 0 4px 0 #000;
        }
        .ctrl-btn:active { transform: translateY(2px); box-shadow: 0 1px 0 #000; }
        .btn-plus { color: var(--neon); }
        .btn-sub { color: var(--danger); }

        .main-btn { 
            width: 100%; padding: 20px; border: none; border-radius: 18px;
            background: linear-gradient(135deg, #00ffaa, #00cc88);
            color: #003322; font-weight: 900; font-size: 1rem; cursor: pointer;
            box-shadow: 0 6px 20px var(--neon-glow); text-transform: uppercase;
        }
        .main-btn:disabled { background: #333; color: #666; box-shadow: none; }

        .upgrade-item { 
            background: rgba(255,255,255,0.02); padding: 15px; border-radius: 18px; 
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 10px; border: 1px solid rgba(255,255,255,0.05);
        }
        .buy-btn { background: #fff; color: #000; border: none; padding: 8px 14px; border-radius: 10px; font-weight: 800; cursor: pointer; }

        .attr-card { background: rgba(0,0,0,0.2); padding: 15px; border-radius: 18px; margin-bottom: 10px; border: 1px solid rgba(255,255,255,0.03); }
        .attr-header { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.8rem; font-weight: bold; color: #aaa; }
        .attr-header span { color: var(--neon); }

        .log-entry { background: var(--card-bg); padding: 12px; border-radius: 12px; margin-bottom: 8px; border-left: 3px solid var(--neon); font-size: 0.8rem; }
        
        @keyframes slideUp { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <canvas id="bgCanvas"></canvas>

    <header>
        <div class="logo">DEV FROM ZERO</div>
        <div class="stats-grid">
            <div class="stat-card"><small>Grana</small><b>$<span id="money">0</span></b></div>
            <div class="stat-card"><small>⭐ Rep</small><b><span id="reputation">0</span></b></div>
            <div class="stat-card"><small>Level</small><b><span id="level">1</span></b></div>
        </div>
        <div class="xp-wrapper">
            <div class="xp-container"><div id="xpBar" class="xp-fill"></div></div>
        </div>
    </header>

    <nav class="tabs">
        <button onclick="showTab('dev')" class="tab-btn active" id="btn-dev">PROJETO</button>
        <button onclick="showTab('office')" class="tab-btn" id="btn-office">ESTÚDIO</button>
        <button onclick="showTab('history')" class="tab-btn" id="btn-history">FEED</button>
    </nav>

    <main class="content-area">
        <div id="dev" class="tab-content active">
            <div style="text-align: center; font-size: 0.7rem; color: #555; margin-bottom: 15px; letter-spacing: 1px;">
                CAPACIDADE: <strong id="currentPoints" style="color:var(--neon)">0</strong> / <strong id="maxPoints">0</strong>
            </div>
            <div id="attrContainer"></div>
            <button id="publishBtn" class="main-btn" onclick="publishGame()" disabled style="margin-top: 10px;">Lançar Jogo</button>
        </div>

        <div id="office" class="tab-content">
            <div id="upgradeList"></div>
            <center><small onclick="resetGame()" style="cursor:pointer; color: #333; margin-top: 20px; display: block;">Resetar Save</small></center>
        </div>

        <div id="history" class="tab-content">
            <div id="gameLog" style="max-height: 350px; overflow-y: auto;"></div>
        </div>
    </main>

    <script>
        // LÓGICA MANTIDA INTEGRALMENTE CONFORME SOLICITADO
        let game = {
            money: 500, reputation: 1.0, level: 1, xp: 0, xpNeeded: 100,
            inventory: [],
            stats: { gameplay: 0, graphics: 0, story: 0, optimization: 0 }
        };

        const UPGRADES = [
            { id: "desk", name: "Cadeira Gamer", cost: 350, level: 2, bonus: "points", val: 5, desc: "+5 Capacidade" },
            { id: "course", name: "Curso XP", cost: 800, level: 4, bonus: "xp", val: 1.3, desc: "+30% Exp" },
            { id: "pc_mid", name: "PC Gamer", cost: 3000, level: 10, bonus: "points", val: 25, desc: "+25 Capacidade" },
            { id: "ads", name: "Marketing", cost: 6000, level: 15, bonus: "money", val: 1.5, desc: "+50% Lucro" },
            { id: "office", name: "Escritório", cost: 40000, level: 30, bonus: "money", val: 3.0, desc: "3x Lucro" },
            { id: "legend", name: "Prédio Global", cost: 200000, level: 50, bonus: "money", val: 6.0, desc: "6x Lucro" }
        ];

        function showTab(id) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.getElementById('btn-'+id).classList.add('active');
        }

        function updateUI() {
            document.getElementById('money').innerText = Math.floor(game.money).toLocaleString();
            document.getElementById('reputation').innerText = game.reputation.toFixed(1);
            document.getElementById('level').innerText = game.level;
            document.getElementById('xpBar').style.width = (game.xp / game.xpNeeded * 100) + "%";
            let bPoints = 0;
            UPGRADES.filter(u => u.bonus === "points" && game.inventory.includes(u.id)).forEach(u => bPoints += u.val);
            const max = 20 + (game.level * 5) + bPoints;
            const current = Object.values(game.stats).reduce((a, b) => a + b, 0);
            document.getElementById('currentPoints').innerText = current;
            document.getElementById('maxPoints').innerText = max;
            document.getElementById('publishBtn').disabled = (current === 0);
            renderAttributes(max, current);
            renderUpgradeTab();
            localStorage.setItem('DevZero_Save', JSON.stringify(game));
        }

        function renderAttributes(max, current) {
            const container = document.getElementById('attrContainer');
            container.innerHTML = Object.keys(game.stats).map(key => `
                <div class="attr-card">
                    <div class="attr-header">${key.toUpperCase()} <span>${game.stats[key]}</span></div>
                    <div class="btn-group" style="display:flex; gap:5px;">
                        <button class="ctrl-btn btn-sub" onclick="modifyAttr('${key}', -1, ${max}, ${current})">-1</button>
                        <button class="ctrl-btn btn-plus" onclick="modifyAttr('${key}', 1, ${max}, ${current})">+1</button>
                        <button class="ctrl-btn btn-plus" onclick="modifyAttr('${key}', 5, ${max}, ${current})">+5</button>
                    </div>
                </div>
            `).join('');
        }

        function modifyAttr(key, amt, max, current) {
            if (amt > 0) { if (current + amt <= max) game.stats[key] += amt; } 
            else { game.stats[key] = Math.max(0, game.stats[key] + amt); }
            updateUI();
        }

        function renderUpgradeTab() {
            const list = document.getElementById('upgradeList');
            list.innerHTML = UPGRADES.map(u => {
                const isLocked = game.level < u.level;
                const isOwned = game.inventory.includes(u.id);
                return `
                <div class="upgrade-item ${isLocked ? 'locked' : ''} ${isOwned ? 'owned' : ''}">
                    <div>
                        <small style="color:var(--neon)">NV ${u.level}</small>
                        <div style="font-weight:bold; font-size:0.9rem">${u.name}</div>
                        <div style="font-size:0.7rem; color: #555">${u.desc}</div>
                    </div>
                    <button class="buy-btn" onclick="buyItem('${u.id}', ${u.cost})" ${(isLocked || isOwned) ? 'disabled' : ''}>
                        ${isOwned ? '✓' : '$'+u.cost}
                    </button>
                </div>`;
            }).join('');
        }

        function buyItem(id, cost) {
            if (game.money >= cost) { game.money -= cost; game.inventory.push(id); updateUI(); }
        }

        function publishGame() {
            const total = Object.values(game.stats).reduce((a, b) => a + b, 0);
            const note = Math.min(10, (total / (20 + game.level * 4.5) * 10)).toFixed(1);
            let mMult = 1.0;
            UPGRADES.filter(u => u.bonus === "money" && game.inventory.includes(u.id)).forEach(u => mMult = u.val);
            const profit = Math.floor(note * 180 * game.reputation * mMult);
            let xMult = 1.0;
            UPGRADES.filter(u => u.bonus === "xp" && game.inventory.includes(u.id)).forEach(u => xMult = u.val);
            game.money += profit; game.reputation += note > 8 ? 0.2 : 0.05;
            const log = document.getElementById('gameLog');
            const entry = document.createElement('div');
            entry.className = "log-entry";
            entry.innerHTML = `<b>Nota: ${note}/10</b> | Lucro: $${profit}`;
            log.prepend(entry);
            gainXP(Math.floor(note * 35 * xMult));
            game.stats = { gameplay: 0, graphics: 0, story: 0, optimization: 0 };
            updateUI();
        }

        function gainXP(amt) {
            if (game.level >= 50) return;
            game.xp += amt;
            while (game.xp >= game.xpNeeded && game.level < 50) {
                game.xp -= game.xpNeeded; game.level++; game.xpNeeded = Math.floor(game.xpNeeded * 1.4);
            }
        }

        function resetGame() { if(confirm("Apagar tudo?")) { localStorage.clear(); location.reload(); } }

        window.onload = () => {
            const saved = localStorage.getItem('DevZero_Save');
            if(saved) game = JSON.parse(saved);
            const canvas = document.getElementById('bgCanvas'); const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            let pts = Array.from({length: 30}, () => ({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, v: 0.2+Math.random()*0.4, s: Math.random()*1.2 }));
            function anim() {
                ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle = "rgba(0,255,170,0.05)";
                pts.forEach(p => { p.y -= p.v; if(p.y < 0) p.y = canvas.height; ctx.beginPath(); ctx.arc(p.x, p.y, p.s, 0, Math.PI*2); ctx.fill(); });
                requestAnimationFrame(anim);
            }
            anim(); updateUI();
        };
    </script>
</body>
</html>
